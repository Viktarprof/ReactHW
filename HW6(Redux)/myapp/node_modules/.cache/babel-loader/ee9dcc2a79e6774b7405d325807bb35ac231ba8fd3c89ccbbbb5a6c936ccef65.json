{"ast":null,"code":"const defaultState = [{\n  id: 1,\n  title: 'Велосипед',\n  count: 22\n}, {\n  id: 2,\n  title: 'Самокат',\n  count: 4\n}, {\n  id: 3,\n  title: 'Гантели',\n  count: 7\n}, {\n  id: 4,\n  title: 'Ракетки',\n  count: 1\n}];\nexport const countReduser = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case DERC_COUNT:\n      const dectTargetProduct = state.find(el => el.id === action.payload);\n      dectTargetProduct.count = dectTargetProduct.count - 1;\n      return state.filter(el => el.count !== 0);\n    case INCR_COUNT:\n      const incrTargetProduct = state.find(el => el.id === action.payload);\n      const newCount = incrTargetProduct.count == 25 ? incrTargetProduct.count + 1 : 25;\n      if (newCount === 25) {\n        alert('Превышено максимальное значение');\n      }\n      return state.map(el => el.id === action.payload ? {\n        ...el,\n        count: newCount\n      } : el);\n    case DELL_PRODUCT:\n      const deletedCardId = action.payload;\n      return state.filter(el => el.id !== deletedCardId);\n    case ADD_PRODUCT:\n      const [title] = action.payload;\n      const new_product = {\n        id: Date.now(),\n        title,\n        count: 1\n      };\n      return [...state, new_product];\n    case RESET_CART:\n      return {\n        ...state,\n        count: 0\n      };\n    default:\n      return state;\n  }\n};\nexport const decrByPayloadAction = payload => ({\n  type: DERC_COUNT,\n  payload\n});\nexport const incrByPayloadAction = payload => ({\n  type: INCR_COUNT,\n  payload\n});\nexport const dellProductAction = payload => ({\n  type: DELL_PRODUCT,\n  payload\n});\nexport const addProductAction = payload => ({\n  type: ADD_PRODUCT,\n  payload\n});","map":{"version":3,"names":["defaultState","id","title","count","countReduser","state","arguments","length","undefined","action","type","DERC_COUNT","dectTargetProduct","find","el","payload","filter","INCR_COUNT","incrTargetProduct","newCount","alert","map","DELL_PRODUCT","deletedCardId","ADD_PRODUCT","new_product","Date","now","RESET_CART","decrByPayloadAction","incrByPayloadAction","dellProductAction","addProductAction"],"sources":["/Users/sema/Documents/work/React_HW/HW6/myapp/src/store/countReduser.js"],"sourcesContent":["const defaultState = [\n    {id: 1, title: 'Велосипед', count: 22},\n    {id: 2, title: 'Самокат', count: 4},\n    {id: 3, title: 'Гантели', count: 7},\n    {id: 4, title: 'Ракетки', count: 1}\n]\n\n    \n\n    export const countReduser = (state = defaultState, action) => {\n        switch (action.type) {\n            case DERC_COUNT:\n                const dectTargetProduct = state.find((el) => el.id === action.payload);\n                dectTargetProduct.count = dectTargetProduct.count -1 ;\n                return state.filter((el) => el.count !== 0);\n\n            case INCR_COUNT:\n                const incrTargetProduct = state.find((el) => el.id === action.payload);\n                const newCount = incrTargetProduct.count == 25 ? incrTargetProduct.count + 1 : 25;\n                if (newCount === 25) {\n                    alert('Превышено максимальное значение');\n                }\n                return state.map((el) => el.id === action.payload ? {...el, count: newCount} : el);\n                \n            case DELL_PRODUCT:\n                const deletedCardId = action.payload;\n                return state.filter((el) => el.id !== deletedCardId);\n\n            case ADD_PRODUCT:\n                const [title] = action.payload;\n                const new_product = {\n                    id:Date.now(),\n                    title,\n                    count: 1\n                }\n                return [...state, new_product];\n    \n\n            case RESET_CART:\n                return {...state, count: 0};\n            default:\n                return state;\n        }\n    };\n\n    export const decrByPayloadAction = (payload) => ({type: DERC_COUNT, payload});\n    export const incrByPayloadAction = (payload) =>({type: INCR_COUNT, payload });\n    export const dellProductAction = (payload) => ({type:DELL_PRODUCT, payload});\n    export const addProductAction = (payload) => ({type:ADD_PRODUCT, payload});\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,CACjB;EAACC,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,WAAW;EAAEC,KAAK,EAAE;AAAE,CAAC,EACtC;EAACF,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,SAAS;EAAEC,KAAK,EAAE;AAAC,CAAC,EACnC;EAACF,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,SAAS;EAAEC,KAAK,EAAE;AAAC,CAAC,EACnC;EAACF,EAAE,EAAE,CAAC;EAAEC,KAAK,EAAE,SAAS;EAAEC,KAAK,EAAE;AAAC,CAAC,CACtC;AAIG,OAAO,MAAMC,YAAY,GAAG,SAAAA,CAAA,EAAkC;EAAA,IAAjCC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGN,YAAY;EAAA,IAAES,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACrD,QAAQC,MAAM,CAACC,IAAI;IACf,KAAKC,UAAU;MACX,MAAMC,iBAAiB,GAAGP,KAAK,CAACQ,IAAI,CAAEC,EAAE,IAAKA,EAAE,CAACb,EAAE,KAAKQ,MAAM,CAACM,OAAO,CAAC;MACtEH,iBAAiB,CAACT,KAAK,GAAGS,iBAAiB,CAACT,KAAK,GAAE,CAAC;MACpD,OAAOE,KAAK,CAACW,MAAM,CAAEF,EAAE,IAAKA,EAAE,CAACX,KAAK,KAAK,CAAC,CAAC;IAE/C,KAAKc,UAAU;MACX,MAAMC,iBAAiB,GAAGb,KAAK,CAACQ,IAAI,CAAEC,EAAE,IAAKA,EAAE,CAACb,EAAE,KAAKQ,MAAM,CAACM,OAAO,CAAC;MACtE,MAAMI,QAAQ,GAAGD,iBAAiB,CAACf,KAAK,IAAI,EAAE,GAAGe,iBAAiB,CAACf,KAAK,GAAG,CAAC,GAAG,EAAE;MACjF,IAAIgB,QAAQ,KAAK,EAAE,EAAE;QACjBC,KAAK,CAAC,iCAAiC,CAAC;MAC5C;MACA,OAAOf,KAAK,CAACgB,GAAG,CAAEP,EAAE,IAAKA,EAAE,CAACb,EAAE,KAAKQ,MAAM,CAACM,OAAO,GAAG;QAAC,GAAGD,EAAE;QAAEX,KAAK,EAAEgB;MAAQ,CAAC,GAAGL,EAAE,CAAC;IAEtF,KAAKQ,YAAY;MACb,MAAMC,aAAa,GAAGd,MAAM,CAACM,OAAO;MACpC,OAAOV,KAAK,CAACW,MAAM,CAAEF,EAAE,IAAKA,EAAE,CAACb,EAAE,KAAKsB,aAAa,CAAC;IAExD,KAAKC,WAAW;MACZ,MAAM,CAACtB,KAAK,CAAC,GAAGO,MAAM,CAACM,OAAO;MAC9B,MAAMU,WAAW,GAAG;QAChBxB,EAAE,EAACyB,IAAI,CAACC,GAAG,CAAC,CAAC;QACbzB,KAAK;QACLC,KAAK,EAAE;MACX,CAAC;MACD,OAAO,CAAC,GAAGE,KAAK,EAAEoB,WAAW,CAAC;IAGlC,KAAKG,UAAU;MACX,OAAO;QAAC,GAAGvB,KAAK;QAAEF,KAAK,EAAE;MAAC,CAAC;IAC/B;MACI,OAAOE,KAAK;EACpB;AACJ,CAAC;AAED,OAAO,MAAMwB,mBAAmB,GAAId,OAAO,KAAM;EAACL,IAAI,EAAEC,UAAU;EAAEI;AAAO,CAAC,CAAC;AAC7E,OAAO,MAAMe,mBAAmB,GAAIf,OAAO,KAAK;EAACL,IAAI,EAAEO,UAAU;EAAEF;AAAQ,CAAC,CAAC;AAC7E,OAAO,MAAMgB,iBAAiB,GAAIhB,OAAO,KAAM;EAACL,IAAI,EAACY,YAAY;EAAEP;AAAO,CAAC,CAAC;AAC5E,OAAO,MAAMiB,gBAAgB,GAAIjB,OAAO,KAAM;EAACL,IAAI,EAACc,WAAW;EAAET;AAAO,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}