{"ast":null,"code":"// import React, { useState } from \"react\";\n// import s from \"./index.module.css\";\n// import { useDispatch, useSelector } from \"react-redux\";\n// import {\n//   addProductAction,\n//   decrByPayloadAction,\n//   dellProductAction,\n//   incrByPayloadAction,\n//   resetCartAction,\n\n// } from \"../../store/countReduser\";\n// import { AiOutlineArrowsAlt } from \"react-icons/ai\";\n\n// function Products() {\n//   const [active, setActive] = useState(true);\n//   const [active2, setActive2] = useState(true);\n//   const [active3, setActive3] = useState(true);\n\n//   const activeWindow = () => {\n//     setActive(!active);\n//   };\n//   const activeHide = () => {\n//     setActive2(!active2);\n//   };\n//   const activeZoom = () => {\n//     setActive3(!active3);\n//   };\n\n//   let products = useSelector((store) => store.count);\n//   console.log(products);\n//   let dispatch = useDispatch();\n\n//   return (\n//     <div\n//       className={`${s.cart} \n//         ${active ? \"\" : s.active} ${s.cart} \n//         ${active2 ? \"\" : s.activeHide}\n//         ${active3 ? \"\" : s.activeZoom}`}>\n//       <div className={s.btns}>\n//         <button className={s.close_button} onClick={activeWindow}></button>\n//         <button className={s.hide} onClick={activeHide}></button>\n//         <button className={s.zoom} onClick={activeZoom}><AiOutlineArrowsAlt className={s.btn_arowe}/></button>\n//       </div>\n\n//       <div className={`${s.productsList} ${active3 ? \"\" : s.activeZoom}`}>\n//         <button\n//           className={s.addProduct}\n//           onClick={() =>dispatch(addProductAction(prompt(\"Write name product.\")))}>Add new product\n//         </button>\n\n//         <button\n//           onClick={() =>dispatch(resetCartAction())}>Reset count products\n//         </button>\n\n//         {products.map((el, index) => (\n//           <div key={index} className={s.products}>\n//             <p>{el.title}</p>\n//             <div className={s.container_Btn}>\n//               <div className={s.triggersBtn}>\n//                 <button\n//                   className={s.plus}\n//                   onClick={() => dispatch(incrByPayloadAction(el.id))}>+\n//                 </button>\n//                 <p>{el.count}</p>\n//                 <button\n//                   className={s.minus}\n//                   onClick={() => dispatch(decrByPayloadAction(el.id))}>-\n//                 </button>\n//               </div>\n//               <button\n//                 className={s.delete}\n//                 onClick={() => dispatch(dellProductAction(el.id))}> x\n//               </button>\n//             </div>\n//           </div>\n//         ))}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default Products;\n\nexport const countReduser = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case DERC_COUNT:\n      const dectTargetProduct = state.find(el => el.id === action.payload);\n      dectTargetProduct.count = dectTargetProduct.count - 1;\n      return state.filter(el => el.count !== 0);\n    case INCR_COUNT:\n      const incrTargetProduct = state.find(el => el.id === action.payload);\n      const newCount = incrTargetProduct.count < 25 ? incrTargetProduct.count + 1 : 25;\n      if (newCount === 25) {\n        alert(\"Превышено максимальное значение, 25.\");\n      }\n      return state.map(el => el.id === action.payload ? {\n        ...el,\n        count: newCount\n      } : el);\n    case DELL_PRODUCT:\n      return state.filter(el => el.id !== action.payload);\n    case ADD_PRODUCT:\n      const [title] = action.payload.split(\" \");\n      const findElem = state.findIndex(el => el.title === title);\n      if (findElem !== -1) {\n        alert(`Продукт ${title} уже добавлен в корзину`);\n        return state;\n      } else {\n        const new_product = {\n          id: Date.now(),\n          title,\n          count: 1\n        };\n        return [...state, new_product];\n      }\n    case RESET_CART:\n      return state.map(el => ({\n        ...el,\n        count: 0\n      }));\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["countReduser","state","arguments","length","undefined","defaultState","action","type","DERC_COUNT","dectTargetProduct","find","el","id","payload","count","filter","INCR_COUNT","incrTargetProduct","newCount","alert","map","DELL_PRODUCT","ADD_PRODUCT","title","split","findElem","findIndex","new_product","Date","now","RESET_CART"],"sources":["/Users/sema/Documents/work/React_HW/HW6(Redux)/myapp/src/components/Products/index.jsx"],"sourcesContent":["// import React, { useState } from \"react\";\n// import s from \"./index.module.css\";\n// import { useDispatch, useSelector } from \"react-redux\";\n// import {\n//   addProductAction,\n//   decrByPayloadAction,\n//   dellProductAction,\n//   incrByPayloadAction,\n//   resetCartAction,\n\n// } from \"../../store/countReduser\";\n// import { AiOutlineArrowsAlt } from \"react-icons/ai\";\n\n// function Products() {\n//   const [active, setActive] = useState(true);\n//   const [active2, setActive2] = useState(true);\n//   const [active3, setActive3] = useState(true);\n\n//   const activeWindow = () => {\n//     setActive(!active);\n//   };\n//   const activeHide = () => {\n//     setActive2(!active2);\n//   };\n//   const activeZoom = () => {\n//     setActive3(!active3);\n//   };\n\n\n//   let products = useSelector((store) => store.count);\n//   console.log(products);\n//   let dispatch = useDispatch();\n\n\n\n//   return (\n//     <div\n//       className={`${s.cart} \n//         ${active ? \"\" : s.active} ${s.cart} \n//         ${active2 ? \"\" : s.activeHide}\n//         ${active3 ? \"\" : s.activeZoom}`}>\n//       <div className={s.btns}>\n//         <button className={s.close_button} onClick={activeWindow}></button>\n//         <button className={s.hide} onClick={activeHide}></button>\n//         <button className={s.zoom} onClick={activeZoom}><AiOutlineArrowsAlt className={s.btn_arowe}/></button>\n//       </div>\n\n//       <div className={`${s.productsList} ${active3 ? \"\" : s.activeZoom}`}>\n//         <button\n//           className={s.addProduct}\n//           onClick={() =>dispatch(addProductAction(prompt(\"Write name product.\")))}>Add new product\n//         </button>\n\n//         <button\n//           onClick={() =>dispatch(resetCartAction())}>Reset count products\n//         </button>\n\n//         {products.map((el, index) => (\n//           <div key={index} className={s.products}>\n//             <p>{el.title}</p>\n//             <div className={s.container_Btn}>\n//               <div className={s.triggersBtn}>\n//                 <button\n//                   className={s.plus}\n//                   onClick={() => dispatch(incrByPayloadAction(el.id))}>+\n//                 </button>\n//                 <p>{el.count}</p>\n//                 <button\n//                   className={s.minus}\n//                   onClick={() => dispatch(decrByPayloadAction(el.id))}>-\n//                 </button>\n//               </div>\n//               <button\n//                 className={s.delete}\n//                 onClick={() => dispatch(dellProductAction(el.id))}> x\n//               </button>\n//             </div>\n//           </div>\n//         ))}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default Products;\n\n\n\n\nexport const countReduser = (state = defaultState, action) => {\n  switch (action.type) {\n    case DERC_COUNT:\n      const dectTargetProduct = state.find((el) => el.id === action.payload);\n      dectTargetProduct.count = dectTargetProduct.count - 1;\n      return state.filter((el) => el.count !== 0);\n\n    case INCR_COUNT:\n      const incrTargetProduct = state.find((el) => el.id === action.payload);\n      const newCount =\n        incrTargetProduct.count < 25 ? incrTargetProduct.count + 1 : 25;\n      if (newCount === 25) {\n        alert(\"Превышено максимальное значение, 25.\");\n      }\n      return state.map((el) =>\n        el.id === action.payload ? { ...el, count: newCount } : el\n      );\n\n    case DELL_PRODUCT:\n      return state.filter((el) => el.id !== action.payload);\n\n    case ADD_PRODUCT:\n      const [title] = action.payload.split(\" \");\n      const findElem = state.findIndex((el) => el.title === title);\n      if (findElem !== -1) {\n        alert(`Продукт ${title} уже добавлен в корзину`);\n        return state;\n      } else {\n        const new_product = {\n          id: Date.now(),\n          title,\n          count: 1,\n        };\n        return [...state, new_product];\n      }\n\n    case RESET_CART:\n      return state.map((el) => ({ ...el, count: 0 }));\n\n    default:\n      return state;\n  }\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAKA,OAAO,MAAMA,YAAY,GAAG,SAAAA,CAAA,EAAkC;EAAA,IAAjCC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGG,YAAY;EAAA,IAAEC,MAAM,GAAAJ,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACvD,QAAQE,MAAM,CAACC,IAAI;IACjB,KAAKC,UAAU;MACb,MAAMC,iBAAiB,GAAGR,KAAK,CAACS,IAAI,CAAEC,EAAE,IAAKA,EAAE,CAACC,EAAE,KAAKN,MAAM,CAACO,OAAO,CAAC;MACtEJ,iBAAiB,CAACK,KAAK,GAAGL,iBAAiB,CAACK,KAAK,GAAG,CAAC;MACrD,OAAOb,KAAK,CAACc,MAAM,CAAEJ,EAAE,IAAKA,EAAE,CAACG,KAAK,KAAK,CAAC,CAAC;IAE7C,KAAKE,UAAU;MACb,MAAMC,iBAAiB,GAAGhB,KAAK,CAACS,IAAI,CAAEC,EAAE,IAAKA,EAAE,CAACC,EAAE,KAAKN,MAAM,CAACO,OAAO,CAAC;MACtE,MAAMK,QAAQ,GACZD,iBAAiB,CAACH,KAAK,GAAG,EAAE,GAAGG,iBAAiB,CAACH,KAAK,GAAG,CAAC,GAAG,EAAE;MACjE,IAAII,QAAQ,KAAK,EAAE,EAAE;QACnBC,KAAK,CAAC,sCAAsC,CAAC;MAC/C;MACA,OAAOlB,KAAK,CAACmB,GAAG,CAAET,EAAE,IAClBA,EAAE,CAACC,EAAE,KAAKN,MAAM,CAACO,OAAO,GAAG;QAAE,GAAGF,EAAE;QAAEG,KAAK,EAAEI;MAAS,CAAC,GAAGP,EAC1D,CAAC;IAEH,KAAKU,YAAY;MACf,OAAOpB,KAAK,CAACc,MAAM,CAAEJ,EAAE,IAAKA,EAAE,CAACC,EAAE,KAAKN,MAAM,CAACO,OAAO,CAAC;IAEvD,KAAKS,WAAW;MACd,MAAM,CAACC,KAAK,CAAC,GAAGjB,MAAM,CAACO,OAAO,CAACW,KAAK,CAAC,GAAG,CAAC;MACzC,MAAMC,QAAQ,GAAGxB,KAAK,CAACyB,SAAS,CAAEf,EAAE,IAAKA,EAAE,CAACY,KAAK,KAAKA,KAAK,CAAC;MAC5D,IAAIE,QAAQ,KAAK,CAAC,CAAC,EAAE;QACnBN,KAAK,CAAE,WAAUI,KAAM,yBAAwB,CAAC;QAChD,OAAOtB,KAAK;MACd,CAAC,MAAM;QACL,MAAM0B,WAAW,GAAG;UAClBf,EAAE,EAAEgB,IAAI,CAACC,GAAG,CAAC,CAAC;UACdN,KAAK;UACLT,KAAK,EAAE;QACT,CAAC;QACD,OAAO,CAAC,GAAGb,KAAK,EAAE0B,WAAW,CAAC;MAChC;IAEF,KAAKG,UAAU;MACb,OAAO7B,KAAK,CAACmB,GAAG,CAAET,EAAE,KAAM;QAAE,GAAGA,EAAE;QAAEG,KAAK,EAAE;MAAE,CAAC,CAAC,CAAC;IAEjD;MACE,OAAOb,KAAK;EAChB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}