{"ast":null,"code":"// const defaultState = [\n//     {id: 1, title: 'Велосипед', count: 22},\n//     {id: 2, title: 'Самокат', count: 4},\n//     {id: 3, title: 'Гантели', count: 7},\n//     {id: 4, title: 'Ракетки', count: 1}\n// ]\n\n//     const DERC_COUNT = 'DERC_COUNT';\n//     const INCR_COUNT = 'INCR_COUNT';\n//     const DELL_PRODUCT = 'DELL_PRODUCT';\n//     const ADD_PRODUCT = 'ADD_PRODUCT';\n//     const RESET_CART = 'RESET_CART';\n\n//     export const countReduser = (state = defaultState, action) => {\n//         switch (action.type) {\n//             case DERC_COUNT:\n//                 const dectTargetProduct = state.find((el) => el.id === action.payload);\n//                 dectTargetProduct.count = dectTargetProduct.count -1 ;\n//                 return state.filter((el) => el.count !== 0);\n\n//             case INCR_COUNT:\n//                 const incrTargetProduct = state.find((el) => el.id === action.payload);\n//                 const newCount = incrTargetProduct.count < 25 ? incrTargetProduct.count +1 : 25;\n//                 if (newCount === 25) {\n//                     alert('Превышено максимальное значение, 25.');\n//                 }\n//                 return state.map((el) => el.id === action.payload ? {...el, count: newCount} : el);\n\n//             case DELL_PRODUCT:\n//                 return state.filter((el) => el.id !== action.payload);\n\n//             case ADD_PRODUCT:\n//                 const [title] = action.payload.split(' ');\n//                 const findElem = state.findIndex((el) => el.title === title)\n//                 if(findElem !== -1){\n//                     alert(`Продукт ${title} уже добавлен в корзину`)\n//                     return state \n//                 }else{\n//                     const new_product = {\n//                         id:Date.now(),\n//                         title,\n//                         count: 1\n//                 }\n//                     return [...state, new_product];\n//                 }\n\n//             case RESET_CART:\n//                state.map((el) => ({...el, count: 0}))\n//                 return [...state]\n\n//             default:\n//                 return state;\n//         }\n//     };\n\nexport const countReduser = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case DERC_COUNT:\n      const dectTargetProduct = state.find(el => el.id === action.payload);\n      dectTargetProduct.count = dectTargetProduct.count - 1;\n      return state.filter(el => el.count !== 0);\n    case INCR_COUNT:\n      const incrTargetProduct = state.find(el => el.id === action.payload);\n      const newCount = incrTargetProduct.count < 25 ? incrTargetProduct.count + 1 : 25;\n      if (newCount === 25) {\n        alert(\"Превышено максимальное значение, 25.\");\n      }\n      return state.map(el => el.id === action.payload ? {\n        ...el,\n        count: newCount\n      } : el);\n    case DELL_PRODUCT:\n      return state.filter(el => el.id !== action.payload);\n    case ADD_PRODUCT:\n      const [title] = action.payload.split(\" \");\n      const findElem = state.findIndex(el => el.title === title);\n      if (findElem !== -1) {\n        alert(`Продукт ${title} уже добавлен в корзину`);\n        return state;\n      } else {\n        const new_product = {\n          id: Date.now(),\n          title,\n          count: 1\n        };\n        return [...state, new_product];\n      }\n    case RESET_CART:\n      return state.map(el => ({\n        ...el,\n        count: 0\n      }));\n    default:\n      return state;\n  }\n};\nexport const decrByPayloadAction = payload => ({\n  type: DERC_COUNT,\n  payload\n});\nexport const incrByPayloadAction = payload => ({\n  type: INCR_COUNT,\n  payload\n});\nexport const dellProductAction = payload => ({\n  type: DELL_PRODUCT,\n  payload\n});\nexport const addProductAction = payload => ({\n  type: ADD_PRODUCT,\n  payload\n});\nexport const resetCartAction = () => ({\n  type: RESET_CART\n});","map":{"version":3,"names":["countReduser","state","arguments","length","undefined","defaultState","action","type","DERC_COUNT","dectTargetProduct","find","el","id","payload","count","filter","INCR_COUNT","incrTargetProduct","newCount","alert","map","DELL_PRODUCT","ADD_PRODUCT","title","split","findElem","findIndex","new_product","Date","now","RESET_CART","decrByPayloadAction","incrByPayloadAction","dellProductAction","addProductAction","resetCartAction"],"sources":["/Users/sema/Documents/work/React_HW/HW6(Redux)/myapp/src/store/countReduser.js"],"sourcesContent":["// const defaultState = [\n//     {id: 1, title: 'Велосипед', count: 22},\n//     {id: 2, title: 'Самокат', count: 4},\n//     {id: 3, title: 'Гантели', count: 7},\n//     {id: 4, title: 'Ракетки', count: 1}\n// ]\n\n//     const DERC_COUNT = 'DERC_COUNT';\n//     const INCR_COUNT = 'INCR_COUNT';\n//     const DELL_PRODUCT = 'DELL_PRODUCT';\n//     const ADD_PRODUCT = 'ADD_PRODUCT';\n//     const RESET_CART = 'RESET_CART';\n\n//     export const countReduser = (state = defaultState, action) => {\n//         switch (action.type) {\n//             case DERC_COUNT:\n//                 const dectTargetProduct = state.find((el) => el.id === action.payload);\n//                 dectTargetProduct.count = dectTargetProduct.count -1 ;\n//                 return state.filter((el) => el.count !== 0);\n\n//             case INCR_COUNT:\n//                 const incrTargetProduct = state.find((el) => el.id === action.payload);\n//                 const newCount = incrTargetProduct.count < 25 ? incrTargetProduct.count +1 : 25;\n//                 if (newCount === 25) {\n//                     alert('Превышено максимальное значение, 25.');\n//                 }\n//                 return state.map((el) => el.id === action.payload ? {...el, count: newCount} : el);\n                \n//             case DELL_PRODUCT:\n//                 return state.filter((el) => el.id !== action.payload);\n\n//             case ADD_PRODUCT:\n//                 const [title] = action.payload.split(' ');\n//                 const findElem = state.findIndex((el) => el.title === title)\n//                 if(findElem !== -1){\n//                     alert(`Продукт ${title} уже добавлен в корзину`)\n//                     return state \n//                 }else{\n//                     const new_product = {\n//                         id:Date.now(),\n//                         title,\n//                         count: 1\n//                 }\n//                     return [...state, new_product];\n//                 }\n\n//             case RESET_CART:\n//                state.map((el) => ({...el, count: 0}))\n//                 return [...state]\n\n//             default:\n//                 return state;\n//         }\n//     };\n\n\n\n\nexport const countReduser = (state = defaultState, action) => {\n    switch (action.type) {\n      case DERC_COUNT:\n        const dectTargetProduct = state.find((el) => el.id === action.payload);\n        dectTargetProduct.count = dectTargetProduct.count - 1;\n        return state.filter((el) => el.count !== 0);\n  \n      case INCR_COUNT:\n        const incrTargetProduct = state.find((el) => el.id === action.payload);\n        const newCount =\n          incrTargetProduct.count < 25 ? incrTargetProduct.count + 1 : 25;\n        if (newCount === 25) {\n          alert(\"Превышено максимальное значение, 25.\");\n        }\n        return state.map((el) =>\n          el.id === action.payload ? { ...el, count: newCount } : el\n        );\n  \n      case DELL_PRODUCT:\n        return state.filter((el) => el.id !== action.payload);\n  \n      case ADD_PRODUCT:\n        const [title] = action.payload.split(\" \");\n        const findElem = state.findIndex((el) => el.title === title);\n        if (findElem !== -1) {\n          alert(`Продукт ${title} уже добавлен в корзину`);\n          return state;\n        } else {\n          const new_product = {\n            id: Date.now(),\n            title,\n            count: 1,\n          };\n          return [...state, new_product];\n        }\n  \n      case RESET_CART:\n        return state.map((el) => ({ ...el, count: 0 }));\n  \n      default:\n        return state;\n    }\n  };\n  \n    export const decrByPayloadAction = (payload) => ({type: DERC_COUNT, payload});\n    export const incrByPayloadAction = (payload) =>({type: INCR_COUNT, payload });\n    export const dellProductAction = (payload) => ({type:DELL_PRODUCT, payload});\n    export const addProductAction = (payload) => ({type:ADD_PRODUCT, payload});\n    export const resetCartAction = () => ({type:RESET_CART})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}